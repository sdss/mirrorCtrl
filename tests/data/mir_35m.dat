!+ Note, these mir.dat files were modified to include fixed link positions (mir/base positions beyond the nAct)
!              Mirror Information for the 3.5m Telescope
!
! 12/3/99 changed to use Galil style actuator for Sec;
!         shortened tertiary axial motion range from 3.96" to 3.75"
!         and adjusted TertMountOffset to accomodate. R.O.
! 12/27/99 added constraint data, as newly allowed in TCC version 2.2. R.O.
! 3/13/00 added <Mir>NAddStatus for TCC version 2.2.4. R.O.
! 4/9/01 increased TertNAddStatus from 1 to 2. R.O.
! 5/21/01 increased TertNAddStatus from 2 to 3. R.O.
! 2006-09-18 adjusted secondary data for new top end. R.O.
! 2008-08-21 adjusted tertiary data for new top end. R.O.
! CCS added mirror and base positions for anti-rotation arms, used to constructed
! fixed length links, shortened infinite links
!-
!+
!      Primary Mirror
!-
! Number of actuators; must be in range [0,6]
PrimNAct   0	! the primary mirror has no motorized position actuators

!+
!      Secondary Mirror
!
! The secondary mirror has three axial actuators and is constrained in translation
! by a fixed central linear bearing. We model this constraint as two very long
! rods tangent to the mirror attached at the central linear bearing pivot.
!
! One cannot set the translation of the mirror, but the central linear bearing
! pivot is behind the mirror vertex, so tilt induces some translation.
!-
! Number of actuators and constraints
! nAct = 0 if mirror does not exist or is fixed
! nAct and nConst must be in range [0,6]
! nAct+nConst must be in range [0,6] and should be in range [5,6]
! Constraint data is not used to control mirror position
! but is used to report the resulting orientation
SecNAct     5
SecNConst   0
! use the following values if the transverse actuators are not ready
!SecNAct     3
!SecNConst   2
! Mirror type (see tinc:MirDef.for for codes)
SecType     2	! direct
! Number of additional status lines for local modifications
SecNAddStatus 0
! Limits of motion (mount units) for each actuator
SecMinMount     -7250000   -7250000   -7250000    -95000    -95000 
SecMaxMount      7250000    7250000    7250000     95000     95000
! Offset (mount units) and scale (mount units/um) for each actuator
SecMountOffset         0          0          0         0         0
SecMountScale       1259.843   1259.843   1259.843    31.496    31.496
! All distances are in mm, all angles are in degrees
! All numbers are for the 3.5m secondary mirror support system
! X = right, Y = up, Z = from the sky towards the telescope
! where up/down/left/right are as seen with the telescope at the horizon,
! standing behind the primary mirror, looking towards the secondary mirror.
!                  Ax A       Ax B       Ax C        Tr D        Tr E
SecActMirX        0.000    -230.529     230.529      29.186     -29.186    0.00
SecActMirY      266.192    -133.096    -133.096      29.186      29.186    1000.00
SecActMirZ     -152.806    -152.806    -152.806    -167.361    -167.361    -152.81
SecActBaseX       0.000    -230.529     230.529     284.010    -284.010    313.95
SecActBaseY     266.192    -133.096    -133.096     284.010     284.010    1000.00
SecActBaseZ    -256.438    -256.438    -256.438    -192.710    -192.710    -152.81

!+
!      Tertiary Mirror
!
! The tertiary mirror has three axial actuators and is constrained 
! to neither translate nor rotate.
! The coordinate system is as follows:
! +Z points towards the secondary mirror
! +Y points towards the instrument port
! +X is as required for a right-handed coordinate system
!    (this is to the left as seen by the instrument with Z up)
!
! We model the constraint in the following idealized fashion:
! - Translation: two very long rods attached to the vertex of mirror,
!   in plane of mirror and at right angles to each other (one +X, +Y, one -X, +Y).
! - Rotation: one long rod attached to edge of mirror tangent to disk of mirror
!   (attached at +X and extending along +Y)
!
! Although technically tilt induces some translation, the mirror is flat
! so this effect is irrelevant. So the origin is taken to be the pivot point
! on the linear bearing rather than the true mirror vertex.
!-
! Number of actuators and constraints
! nAct = 0 if mirror does not exist or is fixed
! nAct and nConst must be in range [0,6]
! nAct+nConst must be in range [0,6] and should be in range [5,6]
! Constraint data is not used to control mirror position
! but is used to report the resulting orientation
TertNAct    3
TertNConst  2
! Mirror type (see tinc:MirDef.for for codes)
TertType    2	! direct
! Number of additional status lines for local modifications
TertNAddStatus 4
! Limits of motion (mount units) for each actuator
! These limits are set to allow safe motion throughout the range 5/13/99 (jsm)
TertMinMount     -7250000   -7250000   -7250000 !-7250000   -7250000   -7250000
TertMaxMount      7250000    7250000    7250000  !7250000    7250000    7250000
! Offset (mount units) and scale (mount units/um) for each actuator
! Note: these offsets are those for the 3.5-m NA2 port as of 5/13/99 (jsm)
! Adjusted by +250000 steps to accomodate effect of range reduction 12/3/99. R.O.
TertMountOffset         0          0          0   !0          0          0
TertMountScale       1259.843   1259.843   1259.843   !1259.843   1259.843   1259.843
! Position of each end of each actuator (mm), relative to mirror vertex
!                  Ax A       Ax B       Ax C     Cnst 1    Const 2    Const 3
TertActMirX       0.000    257.673   -257.673  -203.2  203.2  0           !          0          0        298
TertActMirY    -226.105     89.479     89.479  0  0  0             !        0          0          0
TertActMirZ     194.674   -120.910   -120.910  0  0  0              !       0          0          0
TertActBaseX      0.000    257.673   -257.673  -203.3  197.09  281.47          !    1e+02     -1e+02        298
TertActBaseY   -271.006     44.578     44.578  -199.03 -214.74  0            !7.07e+02   7.07e+02   7.07e+02
TertActBaseZ    149.773   -165.811   -165.811  199.03 183.31 0              !-7.07e+02  -7.07e+02  -7.07e+02

!+
!              End of Mirror Information Block
!-
