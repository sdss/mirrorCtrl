NO: 3.5m tertiary mirror motion control constants

NO: History:
NO: 10/20/99 first draft, range (1.0") may be wrong. R.O.
NO: 10/28/99 reduced range to 0.5" (closer but may still be wrong). R.O.
NO: 12/2/99 added encoder info (copy of tertiary data but no index pulse). R.O.
NO: 12/3/99 set range to 0.375", as per Mark Klaene's request. R.O.
NO: 12/10/99 corrected sign of encoder resolution. R.O.
NO: 2/2/00 corrected units of encoder resolution in header comments. R.O.
NO: 3/23/00 changed encoder to Heidenhain and disabled corrections
NO:         (because the encoders are not yet near the actuators). R.O.
NO: 4/13/00 added a 4th axis just for encoder support.
NO: 6/13/00 Added DOAUX for code 1.7b5. R.O.
NO: 2005-03-24 Added NCORR and ENCTIME. Ditched unused DEFVF.
NO: 2005-08-08 Added AUXMAXN.
NO: 2005-10-19 Set NCORR=1 and MAXCORRA-C = 100000, as recommended by Russet. R.O.
NO: 2006-07-06 Removed default constants and call to COMPVAR. R.O.
NO: 2006-09-11 Modified for new 3.5m top end R.O.
NO: 2006-11-09 Changed SPDD/E from 25000 to 5000 to prevent stalling. R.O.

NO: ***** User-Set Constants *****

NAXES  =  5;    NO: number of axes to control (1-6)
NCORR  =  1;    NO: number of encoder corrections after a move
DOAUX  =  1;    NO: output auxiliary port status? (1=Y,0=N)

NO: Axis-Specific constants
NO: Unless noted, all values must be > 0 if axis exists
NO: Values are ignored if axis does not exist

NO: Axes A, B, C
NO: 40 threads/inch, 80:1 reduction 200 full steps/rev, 50 microsteps/full step
NO: for a resolution of 32e6 microsteps/inch = 1259.8425 microsteps/um
NO: The margin includes some room for "crosstalk"
NO: (the position of each axial encoder is somewhat affected by all axial actuators)
NO: Heidenhain MT 2581 encoder:
NO: 2 um period, 4 ticks/period, 50x interpolation
NO: for a resolution of 400 ticks/um = 3.1496 microsteps/tick
NO: The encoders have one index pulse 1.5 mm from short end of travel
NO: and that's too small a margin to safely use

NO: Axes D, E
NO: 80 threads/inch, 200 full steps/revolution, 50 microsteps/full step
NO: for a resolution of 8e5 microsteps/inch = 31.4961 microsteps/um
NO: The range from limit switch to limit switch is 0.25"
NO: Heidenhain MT MT2571 encoder:
NO: 2 um period for one tick, 10x interpolation
NO: for a resolution of 20 ticks/um = 1.5748 microsteps/tick

NO: distance between software limit and limit switch (microsteps)
MARGA = 400000;  NO: 0.0125 inches
MARGB = MARGA
MARGC = MARGA
MARGD =   5000;  NO: 0.00625 inches
MARGE = MARGD

NO: full range of motion (microsteps)
RNGA = 15300000 - (2 * MARGA)
RNGB = RNGA
RNGC = RNGA
RNGD = 200000 - (2 * MARGD)
RNGE = RNGD

NO: speed (microsteps/sec)
NO: warnings:
NO: - excessive speeds may cause stalling due to loss of torque
NO: - test a speed for resonances before using it
SPDA = 50000;  NO: 5 revs/sec
SPDB = SPDA
SPDC = SPDA
SPDD = 5000; NO: these motors stall very easily
SPDE = SPDD

NO: homing speed (microsteps/sec)
NO: should be significantly slower than normal speed
HMSPDA = SPDA / 10
HMSPDB = HMSPDA
HMSPDC = HMSPDA
HMSPDD = SPDD / 10
HMSPDE = HMSPDD

NO: acceleration (microsteps/sec^2)
ACCA = SPDA * 10
ACCB = ACCA
ACCC = ACCA
ACCD = SPDD * 10
ACCE = ACCD

NO: resolution of encoder (microsteps/encoder tick), 0 if no encoder
NO: for a servo motor, this is the auxiliary encoder
ENCRESA = -3.1496
ENCRESB = ENCRESA
ENCRESC = ENCRESA
ENCRESD = 1.5748
ENCRESE = ENCRESD

NO: max error+1 to correct based on encoder (microsteps)
NO: 0 if no encoder or no correction wanted
MAXCORRA = 1000000
MAXCORRB = MAXCORRA
MAXCORRC = MAXCORRA
MAXCORRD = 5000
MAXCORRE = MAXCORRD
